version: "3.8"

services:
  api:
    build:
      context: .
      dockerfile: ./Dockerfile
    container_name: flask
    command: python src/app/app.py
    ports:
      - "5000:5000"
    env_file: .env
    restart: unless-stopped

  crawler:
    build:
      context: .
      dockerfile: ./Dockerfile
    container_name: crawler
    command: python src/crawler/crawling.py
    restart: unless-stopped
    env_file: .env
    extra_hosts:
      - "host.docker.internal:host-gateway"
